{% extends 'base.html' %}

{% block title %}
Cart
{% endblock %}
{% block content %}
{% if products|length > 0%}
<div class="container bg-light">
    <h4 class="bg-light mt-4 p-2">Your cart charges</h4>
    <div class="panel panel-primary">
        <div class="panel-body">
            <div class="row">
                <div class="col-lg-8 shadow-sm p-3 mb-5 bg-white rounded">
                    {% for product in products %}
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div class="thumbnail thumbnail-q">
                                    <img style="width: 100%; height: 100px; border-radius: 5px;object-fit:cover;
                                    object-position:50% 50%;" src="{{ url_for('.static', filename='images/products/' ~ product['image']) }}"
                                        alt=""><br />
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <h5 class="bold">{{ product['name'] }}</h5>
                            <p>&dollar;{{ product['price'] / 100 }}</p>
                            <br />
                            <p><a href="{{ url_for('store_v1.remove_from_cart', index=product['index'])}}">
                                    <button type="button" class="btn btn-danger btn-xs"><i
                                            class="glyphicon glyphicon-trash"></i></button></a>
                            </p>
                        </div>
                        <div class="col-lg-2">
                            <h5>Quantity</h5>
                            <p>
                                {{ product['quantity'] }}
                            </p>
                        </div>
                        <div class="col-lg-2">
                            <h5>Total</h5>
                            <p>
                                <strong>&dollar;{{ product['total'] / 100 }}</strong>
                            </p>
                            <br />
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div class="col-lg-4">
                    <ul class="list-group shadow-sm p-3 mb-5 bg-white rounded">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            {{ quantity_total }} items
                            <span>&dollar;{{ grand_total / 100 }}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            24hr Shipping
                            <span>&dollar;10</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            Total
                            <span>&dollar;{{ grand_total_plus_shipping / 100 }}</span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <a href="{{ url_for('store_v1.checkout') }}" class="btn btn-primary btn-sm">Checkout <i
                                    class="glyphicon glyphicon-chevron-right"></i></a>
                            <a href="{{ url_for('store_v1.index') }}" class="btn btn-dark btn-sm pull-right"><i
                                    class="glyphicon glyphicon-chevron-left"></i> Continue Shopping</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}
{% endblock %}